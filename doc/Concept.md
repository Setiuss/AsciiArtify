# Порівняння систем Kubernetes

**Minikube** - інструмент, який дозволяє запустити Kubernetes кластер з однієї ноди у віртуальній машині на вашому персональному комп'ютері

**Kind** (Kubernetes IN Docker) - це інструмент для запуску локальних кластерів Kubernetes за допомогою "вузлів" контейнера Docker.

**k3d** (Kubernetes 3D) — це легка оболонка для запуску k3s (мінімальний дистрибутив Kubernetes від Rancher Lab) у докері. k3d дозволяє дуже легко створювати одно- та багатовузлові кластери k3s у докері, напр. для локальної розробки на Kubernetes.

## підтримувані ОС та архітектури

| minikube                                                                                                                            | kind                                               | k3d                                                |
|-------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|----------------------------------------------------|
| Linux: Майже всі дистрибутиви Linux підтримуються.                                                                                  | Linux: kind працює на багатьох дистрибутивах Linux | Linux: k3d працює на багатьох дистрибутивах Linux. |
| macOS: Підтримка macOS існує, але може бути <br> деякі обмеження.                                                                   | macOS: kind підтримує macOS.                       | macOS: k3d підтримує macOS.                        |
| Windows: Підтримка Windows також існує, але вона зазвичай<br>вимагає використання гіпервізора, такого як<br>VirtualBox або Hyper-V. | Windows: kind підтримується на Windows.            | Windows: k3d підтримується на Windows.             |
| Працює на архітектурах x86 та amd64                                                                                                 | Працює на архітектурах x86 та amd64                | Працює на архітектурах x86 та amd64                |


## можливість автоматизації

| minikube                                                                            | kind                                                                                | k3d                                                                                |
|-------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| командний рядок та скрипти інтеграції з іншими інструментами автоматизації та CI/CD | командний рядок та скрипти інтеграції з іншими інструментами автоматизації та CI/CD |командний рядок та скрипти інтеграції з іншими інструментами автоматизації та CI/CD |

## моніторинг

| minikube                                                                     | kind                                        | k3d                                                                                                                                                                                                                                     |
|------------------------------------------------------------------------------|---------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| kube-state-metrics<br>Prometheus<br>Grafana<br>K9s<br>Kube-prometheus-stack  | kube-state-metrics<br>Prometheus<br>Grafana | kube-state-metrics<br>Prometheus<br>Grafana,<br>k3d не має вбудованого інтерфейсу приладової панелі,<br>як у minikube, але все одно можна налаштувати Dashboard,<br>веб-інтерфейс користувача Kubernetes, щоб переглядати свій кластер. |

## керування Kubernetes кластером

| minikube                                                                 | kind                                                                                                                                               | k3d                                                                                                                                                                                       |
|--------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Minikube надає командний рядок та графічний інтерфейс minikube dashboard | kind надає інтерфейс командного рядка для керування локальними Kubernetes кластерами, які базуються на Docker, підтримує конфігураційні файли YAML | k3d надає інтерфейс командного рядка для керування локальними Kubernetes кластерами, що базуються на k3s і використовують Docker для контейнеризації, підтримує конфігураційні файли YAML |

## переваги й недолыки

**Minikube:**
- Переваги:
    - Широка підтримка і активна спільнота користувачів.
    - Постійні оновлення та підтримка.
    - Доступні конфігураційні опції через командний рядок або конфігураційні файли.
    - Має графічний інтерфейс Minikube Dashboard для простого керування кластером.

- Недоліки:
    - Може вимагати більше ресурсів, особливо при використанні віртуалізації.
    - Займає більше часу для старту, особливо при першому використанні.
    - Потребує додаткових засобів, таких як VirtualBox чи KVM.

**Kind:**
- Переваги:
    - Швидше створює кластери, оскільки використовує Docker для контейнеризації.
    - Легка інтеграція з іншими інструментами, орієнтованими на Docker.

- Недоліки:
    - Може бути менш стійким в роботі залежно від версій використовуваного Docker.

**k3d:**
- Переваги:
    - Швидке розгортання за допомогою Docker.
    - Підтримка іншого Kubernetes дистрибутиву - k3s, який є легковаговим та підходить для ресурсозбережливих середовищ.

- Недоліки:
    - Може потребувати активного слідкування за оновленнями та змінами в Docker і k3s.

## Можливість застосування Podman у minikube, kind, k3d замість Docker

- Minikube:
    - підтримує vm-driver=podman схожий на Docker драйвер. Podman запущений як суперюзер (root user) це найкрайщий шлях забезпечити повний доступ ваших контейнерів до будь-якої функції, наявної у вашій системі.
    - Увага: podman драйвер вимагає запущені контейнери з під root користувача оскільки звичайні облікові записи користувачів не мають повного доступу до всіх функцій операційної системи, які, можливо, потребуватимуть їх роботи.

-  Kind:
    - використовує Docker для створення вузлів кластера. Але є експериментальний драйвер для контейнерів, який підтримує Podman. Для використання цього драйвера, вам може знадобитися встановити додаткові засоби.

- k3d:
    - Podman має рівень сумісності Docker API. k3d використовує API Docker і сумісний з Podman v4 і вище.
    - Увага: Podman є експериментальною, k3d не гарантує роботу з Podman.

## Загальні висновки:

- Minikube:
    - Зручний для тестування та розробки.
    - Має графічний інтерфейс для менш технічних користувачів.

-  Kind:
    - Швидше за Minikube через використання Docker.
    - Простий у використанні та налаштуванні.

- k3d:
    - Легкий у використанні та розгортанні.
    - Підтримує інші варіанти віртуалізації.

Усі три інструменти мають гарну документацію та активну спільноту

## Демо розгортання Argo CD на k3d

![Image](/.data/argo_install.gif)